{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Items CRUD API","text":"<p>Bienvenue sur la documentation de l'API Items.</p>"},{"location":"#introduction","title":"Introduction","text":"<p>Ce projet est une API REST robuste pour la gestion d'articles, construite avec FastAPI, SQLModel, et PostgreSQL. Il d\u00e9montre une pipeline CI/CD professionnelle utilisant GitHub Actions, Semantic Release, et Docker.</p>"},{"location":"#fonctionnalites","title":"Fonctionnalit\u00e9s","text":"<ul> <li>CRUD Operations: Cr\u00e9er, Lire, Mettre \u00e0 jour, Supprimer des articles.</li> <li>Base de donn\u00e9es: Int\u00e9gration PostgreSQL via SQLModel.</li> <li>CI/CD: Tests automatis\u00e9s, linting, s\u00e9curit\u00e9, et gestion des releases.</li> <li>Qualit\u00e9: Type checking (Mypy), Linting (Ruff), S\u00e9curit\u00e9 (Bandit).</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>Voir le fichier CHANGELOG.md \u00e0 la racine du projet pour l'historique complet des modifications.</p>"},{"location":"cicd/","title":"CI/CD Pipeline","text":"<p>Ce projet utilise GitHub Actions pour l'int\u00e9gration et le d\u00e9ploiement continus.</p>"},{"location":"cicd/#workflow-ci","title":"Workflow CI","text":"<p>Le workflow <code>ci.yml</code> s'ex\u00e9cute sur chaque push et pull request vers <code>main</code> et <code>develop</code>.</p>"},{"location":"cicd/#jobs","title":"Jobs","text":"<ol> <li>Lint: V\u00e9rifie le style du code avec Ruff.</li> <li>Typecheck: V\u00e9rifie les types avec Mypy.</li> <li>Security: Scanne les vuln\u00e9rabilit\u00e9s avec Bandit et Safety.</li> <li>Tests: Ex\u00e9cute les tests unitaires avec Pytest.</li> <li>Docker: Construit et push l'image Docker sur GHCR (si les tests passent).</li> </ol>"},{"location":"cicd/#semantic-release","title":"Semantic Release","text":"<p>Le workflow <code>release.yml</code> g\u00e8re automatiquement les versions et les releases GitHub. Il est d\u00e9clench\u00e9 apr\u00e8s le succ\u00e8s du workflow CI sur la branche <code>main</code>.</p>"},{"location":"getting-started/","title":"D\u00e9marrage Rapide","text":""},{"location":"getting-started/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Python 3.13+</li> <li>uv</li> <li>Docker &amp; Docker Compose (optionnel)</li> </ul>"},{"location":"getting-started/#installation","title":"Installation","text":"<ol> <li> <p>Cloner le d\u00e9p\u00f4t <code>bash    git clone https://github.com/DorotheeCatry/brief-ci-cd-semantic-release-mk-dcdocs.git    cd brief-ci-cd-semantic-release-mk-dcdocs</code></p> </li> <li> <p>Installer les d\u00e9pendances <code>bash    uv sync</code></p> </li> <li> <p>Lancer l'application <code>bash    uv run fastapi dev app/main.py</code></p> </li> </ol>"},{"location":"api/models/","title":"Mod\u00e8les","text":"<p>Documentation des mod\u00e8les de donn\u00e9es SQLModel.</p>"},{"location":"api/models/#item","title":"Item","text":""},{"location":"api/models/#app.models.item.Item","title":"<code>app.models.item.Item</code>","text":"<p>               Bases: <code>SQLModel</code></p> Source code in <code>app/models/item.py</code> <pre><code>class Item(SQLModel, table=True):\n    __tablename__ = \"items\"\n\n    id: int | None = Field(default=None, primary_key=True)\n    nom: str = Field(index=True)\n    prix: float\n</code></pre>"},{"location":"api/routes/","title":"Routes API","text":"<p>Documentation des endpoints de l'API.</p>"},{"location":"api/routes/#items-router","title":"Items Router","text":""},{"location":"api/routes/#app.routes.items","title":"<code>app.routes.items</code>","text":""},{"location":"api/routes/#app.routes.items-classes","title":"Classes","text":""},{"location":"api/routes/#app.routes.items-functions","title":"Functions","text":""},{"location":"api/routes/#app.routes.items.get_items","title":"<code>get_items(skip=0, limit=100, db=Depends(get_db))</code>","text":"<p>R\u00e9cup\u00e8re la liste des items avec pagination.</p> Source code in <code>app/routes/items.py</code> <pre><code>@router.get(\"/\", response_model=list[ItemResponse])\ndef get_items(\n    skip: int = 0, limit: int = 100, db: Session = Depends(get_db)\n) -&gt; list[Item]:\n    \"\"\"R\u00e9cup\u00e8re la liste des items avec pagination.\"\"\"\n    return ItemService.get_all(db, skip, limit)\n</code></pre>"},{"location":"api/services/","title":"Services","text":"<p>Documentation automatique des services m\u00e9tier.</p>"},{"location":"api/services/#itemservice","title":"ItemService","text":""},{"location":"api/services/#app.services.item_service.ItemService","title":"<code>app.services.item_service.ItemService</code>","text":"<p>Service g\u00e9rant les op\u00e9rations m\u00e9tier sur les articles.</p> <p>Cette classe fournit des m\u00e9thodes statiques pour effectuer toutes les op\u00e9rations CRUD sur les articles, en s\u00e9parant la logique m\u00e9tier des routes API.</p> Source code in <code>app/services/item_service.py</code> <pre><code>class ItemService:\n    \"\"\"Service g\u00e9rant les op\u00e9rations m\u00e9tier sur les articles.\n\n    Cette classe fournit des m\u00e9thodes statiques pour effectuer\n    toutes les op\u00e9rations CRUD sur les articles, en s\u00e9parant\n    la logique m\u00e9tier des routes API.\n    \"\"\"\n\n    @staticmethod\n    def get_all(db: Session, skip: int = 0, limit: int = 100) -&gt; list[Item]:\n        \"\"\"R\u00e9cup\u00e8re une liste pagin\u00e9e d'articles.\n\n        Args:\n            db: Session de base de donn\u00e9es active.\n            skip: Nombre d'articles \u00e0 sauter (pour pagination). Par d\u00e9faut 0.\n            limit: Nombre maximum d'articles \u00e0 retourner. Par d\u00e9faut 100.\n\n        Returns:\n            Liste d'objets Item de la base de donn\u00e9es.\n\n        Example:\n            &gt;&gt;&gt; items = ItemService.get_all(db, skip=0, limit=10)\n            &gt;&gt;&gt; len(items)  # Maximum 10 articles\n        \"\"\"\n        statement = select(Item).offset(skip).limit(limit)\n        return list(db.exec(statement).all())\n\n    @staticmethod\n    def get_by_id(db: Session, item_id: int) -&gt; Item | None:\n        \"\"\"R\u00e9cup\u00e8re un article par son identifiant.\n\n        Args:\n            db: Session de base de donn\u00e9es active.\n            item_id: Identifiant unique de l'article \u00e0 r\u00e9cup\u00e9rer.\n\n        Returns:\n            L'objet Item correspondant, ou None si non trouv\u00e9.\n\n        Example:\n            &gt;&gt;&gt; item = ItemService.get_by_id(db, 1)\n            &gt;&gt;&gt; if item:\n            ...     print(item.nom)\n        \"\"\"\n        return db.get(Item, item_id)\n\n    @staticmethod\n    def create(db: Session, item_data: ItemCreate) -&gt; Item:\n        \"\"\"Cr\u00e9e un nouvel article dans la base de donn\u00e9es.\n\n        Args:\n            db: Session de base de donn\u00e9es active.\n            item_data: Donn\u00e9es valid\u00e9es pour cr\u00e9er l'article (sch\u00e9ma ItemCreate).\n\n        Returns:\n            L'objet Item nouvellement cr\u00e9\u00e9 avec son ID g\u00e9n\u00e9r\u00e9.\n\n        Example:\n            &gt;&gt;&gt; new_item = ItemCreate(nom=\"\u00c9cran\", prix=299.99)\n            &gt;&gt;&gt; created = ItemService.create(db, new_item)\n            &gt;&gt;&gt; print(created.id)  # ID auto-g\u00e9n\u00e9r\u00e9\n        \"\"\"\n        item = Item(**item_data.model_dump())\n        db.add(item)\n        db.commit()\n        db.refresh(item)\n        return item\n\n    @staticmethod\n    def update(db: Session, item_id: int, item_data: ItemUpdate) -&gt; Item | None:\n        \"\"\"Met \u00e0 jour un article existant avec les donn\u00e9es fournies.\n\n        Effectue une mise \u00e0 jour partielle en ne modifiant que les champs\n        fournis dans item_data (gr\u00e2ce \u00e0 exclude_unset=True).\n\n        Args:\n            db: Session de base de donn\u00e9es active.\n            item_id: Identifiant de l'article \u00e0 mettre \u00e0 jour.\n            item_data: Donn\u00e9es de mise \u00e0 jour (sch\u00e9ma ItemUpdate).\n\n        Returns:\n            L'objet Item mis \u00e0 jour, ou None si l'article n'existe pas.\n\n        Example:\n            &gt;&gt;&gt; update_data = ItemUpdate(prix=249.99)  # Ne met \u00e0 jour que le prix\n            &gt;&gt;&gt; updated = ItemService.update(db, 1, update_data)\n        \"\"\"\n        item = db.get(Item, item_id)\n        if not item:\n            return None\n\n        update_data = item_data.model_dump(exclude_unset=True)\n        for field, value in update_data.items():\n            setattr(item, field, value)\n\n        db.add(item)\n        db.commit()\n        db.refresh(item)\n        return item\n\n    @staticmethod\n    def delete(db: Session, item_id: int) -&gt; bool:\n        \"\"\"Supprime un article de la base de donn\u00e9es.\n\n        Args:\n            db: Session de base de donn\u00e9es active.\n            item_id: Identifiant de l'article \u00e0 supprimer.\n\n        Returns:\n            True si l'article a \u00e9t\u00e9 supprim\u00e9, False s'il n'existait pas.\n\n        Example:\n            &gt;&gt;&gt; success = ItemService.delete(db, 1)\n            &gt;&gt;&gt; if success:\n            ...     print(\"Article supprim\u00e9 avec succ\u00e8s\")\n        \"\"\"\n        item = db.get(Item, item_id)\n        if not item:\n            return False\n\n        db.delete(item)\n        db.commit()\n        return True\n</code></pre>"},{"location":"api/services/#app.services.item_service.ItemService-functions","title":"Functions","text":""},{"location":"api/services/#app.services.item_service.ItemService.create","title":"<code>create(db, item_data)</code>  <code>staticmethod</code>","text":"<p>Cr\u00e9e un nouvel article dans la base de donn\u00e9es.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>Session</code> <p>Session de base de donn\u00e9es active.</p> required <code>item_data</code> <code>ItemCreate</code> <p>Donn\u00e9es valid\u00e9es pour cr\u00e9er l'article (sch\u00e9ma ItemCreate).</p> required <p>Returns:</p> Type Description <code>Item</code> <p>L'objet Item nouvellement cr\u00e9\u00e9 avec son ID g\u00e9n\u00e9r\u00e9.</p> Example <p>new_item = ItemCreate(nom=\"\u00c9cran\", prix=299.99) created = ItemService.create(db, new_item) print(created.id)  # ID auto-g\u00e9n\u00e9r\u00e9</p> Source code in <code>app/services/item_service.py</code> <pre><code>@staticmethod\ndef create(db: Session, item_data: ItemCreate) -&gt; Item:\n    \"\"\"Cr\u00e9e un nouvel article dans la base de donn\u00e9es.\n\n    Args:\n        db: Session de base de donn\u00e9es active.\n        item_data: Donn\u00e9es valid\u00e9es pour cr\u00e9er l'article (sch\u00e9ma ItemCreate).\n\n    Returns:\n        L'objet Item nouvellement cr\u00e9\u00e9 avec son ID g\u00e9n\u00e9r\u00e9.\n\n    Example:\n        &gt;&gt;&gt; new_item = ItemCreate(nom=\"\u00c9cran\", prix=299.99)\n        &gt;&gt;&gt; created = ItemService.create(db, new_item)\n        &gt;&gt;&gt; print(created.id)  # ID auto-g\u00e9n\u00e9r\u00e9\n    \"\"\"\n    item = Item(**item_data.model_dump())\n    db.add(item)\n    db.commit()\n    db.refresh(item)\n    return item\n</code></pre>"},{"location":"api/services/#app.services.item_service.ItemService.delete","title":"<code>delete(db, item_id)</code>  <code>staticmethod</code>","text":"<p>Supprime un article de la base de donn\u00e9es.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>Session</code> <p>Session de base de donn\u00e9es active.</p> required <code>item_id</code> <code>int</code> <p>Identifiant de l'article \u00e0 supprimer.</p> required <p>Returns:</p> Type Description <code>bool</code> <p>True si l'article a \u00e9t\u00e9 supprim\u00e9, False s'il n'existait pas.</p> Example <p>success = ItemService.delete(db, 1) if success: ...     print(\"Article supprim\u00e9 avec succ\u00e8s\")</p> Source code in <code>app/services/item_service.py</code> <pre><code>@staticmethod\ndef delete(db: Session, item_id: int) -&gt; bool:\n    \"\"\"Supprime un article de la base de donn\u00e9es.\n\n    Args:\n        db: Session de base de donn\u00e9es active.\n        item_id: Identifiant de l'article \u00e0 supprimer.\n\n    Returns:\n        True si l'article a \u00e9t\u00e9 supprim\u00e9, False s'il n'existait pas.\n\n    Example:\n        &gt;&gt;&gt; success = ItemService.delete(db, 1)\n        &gt;&gt;&gt; if success:\n        ...     print(\"Article supprim\u00e9 avec succ\u00e8s\")\n    \"\"\"\n    item = db.get(Item, item_id)\n    if not item:\n        return False\n\n    db.delete(item)\n    db.commit()\n    return True\n</code></pre>"},{"location":"api/services/#app.services.item_service.ItemService.get_all","title":"<code>get_all(db, skip=0, limit=100)</code>  <code>staticmethod</code>","text":"<p>R\u00e9cup\u00e8re une liste pagin\u00e9e d'articles.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>Session</code> <p>Session de base de donn\u00e9es active.</p> required <code>skip</code> <code>int</code> <p>Nombre d'articles \u00e0 sauter (pour pagination). Par d\u00e9faut 0.</p> <code>0</code> <code>limit</code> <code>int</code> <p>Nombre maximum d'articles \u00e0 retourner. Par d\u00e9faut 100.</p> <code>100</code> <p>Returns:</p> Type Description <code>list[Item]</code> <p>Liste d'objets Item de la base de donn\u00e9es.</p> Example <p>items = ItemService.get_all(db, skip=0, limit=10) len(items)  # Maximum 10 articles</p> Source code in <code>app/services/item_service.py</code> <pre><code>@staticmethod\ndef get_all(db: Session, skip: int = 0, limit: int = 100) -&gt; list[Item]:\n    \"\"\"R\u00e9cup\u00e8re une liste pagin\u00e9e d'articles.\n\n    Args:\n        db: Session de base de donn\u00e9es active.\n        skip: Nombre d'articles \u00e0 sauter (pour pagination). Par d\u00e9faut 0.\n        limit: Nombre maximum d'articles \u00e0 retourner. Par d\u00e9faut 100.\n\n    Returns:\n        Liste d'objets Item de la base de donn\u00e9es.\n\n    Example:\n        &gt;&gt;&gt; items = ItemService.get_all(db, skip=0, limit=10)\n        &gt;&gt;&gt; len(items)  # Maximum 10 articles\n    \"\"\"\n    statement = select(Item).offset(skip).limit(limit)\n    return list(db.exec(statement).all())\n</code></pre>"},{"location":"api/services/#app.services.item_service.ItemService.get_by_id","title":"<code>get_by_id(db, item_id)</code>  <code>staticmethod</code>","text":"<p>R\u00e9cup\u00e8re un article par son identifiant.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>Session</code> <p>Session de base de donn\u00e9es active.</p> required <code>item_id</code> <code>int</code> <p>Identifiant unique de l'article \u00e0 r\u00e9cup\u00e9rer.</p> required <p>Returns:</p> Type Description <code>Item | None</code> <p>L'objet Item correspondant, ou None si non trouv\u00e9.</p> Example <p>item = ItemService.get_by_id(db, 1) if item: ...     print(item.nom)</p> Source code in <code>app/services/item_service.py</code> <pre><code>@staticmethod\ndef get_by_id(db: Session, item_id: int) -&gt; Item | None:\n    \"\"\"R\u00e9cup\u00e8re un article par son identifiant.\n\n    Args:\n        db: Session de base de donn\u00e9es active.\n        item_id: Identifiant unique de l'article \u00e0 r\u00e9cup\u00e9rer.\n\n    Returns:\n        L'objet Item correspondant, ou None si non trouv\u00e9.\n\n    Example:\n        &gt;&gt;&gt; item = ItemService.get_by_id(db, 1)\n        &gt;&gt;&gt; if item:\n        ...     print(item.nom)\n    \"\"\"\n    return db.get(Item, item_id)\n</code></pre>"},{"location":"api/services/#app.services.item_service.ItemService.update","title":"<code>update(db, item_id, item_data)</code>  <code>staticmethod</code>","text":"<p>Met \u00e0 jour un article existant avec les donn\u00e9es fournies.</p> <p>Effectue une mise \u00e0 jour partielle en ne modifiant que les champs fournis dans item_data (gr\u00e2ce \u00e0 exclude_unset=True).</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>Session</code> <p>Session de base de donn\u00e9es active.</p> required <code>item_id</code> <code>int</code> <p>Identifiant de l'article \u00e0 mettre \u00e0 jour.</p> required <code>item_data</code> <code>ItemUpdate</code> <p>Donn\u00e9es de mise \u00e0 jour (sch\u00e9ma ItemUpdate).</p> required <p>Returns:</p> Type Description <code>Item | None</code> <p>L'objet Item mis \u00e0 jour, ou None si l'article n'existe pas.</p> Example <p>update_data = ItemUpdate(prix=249.99)  # Ne met \u00e0 jour que le prix updated = ItemService.update(db, 1, update_data)</p> Source code in <code>app/services/item_service.py</code> <pre><code>@staticmethod\ndef update(db: Session, item_id: int, item_data: ItemUpdate) -&gt; Item | None:\n    \"\"\"Met \u00e0 jour un article existant avec les donn\u00e9es fournies.\n\n    Effectue une mise \u00e0 jour partielle en ne modifiant que les champs\n    fournis dans item_data (gr\u00e2ce \u00e0 exclude_unset=True).\n\n    Args:\n        db: Session de base de donn\u00e9es active.\n        item_id: Identifiant de l'article \u00e0 mettre \u00e0 jour.\n        item_data: Donn\u00e9es de mise \u00e0 jour (sch\u00e9ma ItemUpdate).\n\n    Returns:\n        L'objet Item mis \u00e0 jour, ou None si l'article n'existe pas.\n\n    Example:\n        &gt;&gt;&gt; update_data = ItemUpdate(prix=249.99)  # Ne met \u00e0 jour que le prix\n        &gt;&gt;&gt; updated = ItemService.update(db, 1, update_data)\n    \"\"\"\n    item = db.get(Item, item_id)\n    if not item:\n        return None\n\n    update_data = item_data.model_dump(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(item, field, value)\n\n    db.add(item)\n    db.commit()\n    db.refresh(item)\n    return item\n</code></pre>"}]}